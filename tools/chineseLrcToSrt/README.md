# Chinese LRC 转换为 SRT 的工具

一个用于将仅包含中文的 LRC 字幕文件转换为 SRT 格式的 Node.js 脚本。该脚本专门针对仅含中文的 LRC 文件，方便您将其转换为标准的 SRT 文件格式。

## 特性

- **简单易用**：无需复杂的配置，直接在命令行中运行即可。
- **时间格式转换**：自动处理 LRC 与 SRT 文件之间的时间格式差异。
- **错误处理**：提供友好的错误提示，方便排查问题。
- **高效稳定**：快速处理大型字幕文件，确保转换准确无误。

## 前提条件

- **Node.js**：确保已安装 Node.js（建议版本 10 或更高）。

## 使用方法

在命令行中使用 Node.js 运行脚本：

```bash
node chineseLrcToSrt.js <input.lrc> [output.srt]
```

- `<input.lrc>`：**（必需）** 要转换的中文 LRC 文件的路径。
- `[output.srt]`：**（可选）** 要保存转换后的 SRT 文件的路径。如果未指定，输出文件将保存在与输入文件相同的目录下，文件名相同但扩展名为 `.srt`。

### 示例

#### 1. 将中文 LRC 文件转换为 SRT 文件（默认输出路径）

```bash
node chineseLrcToSrt.js subtitles.lrc
```

- **输入**：`subtitles.lrc`
- **输出**：`subtitles.srt`（保存在相同目录下）

#### 2. 指定自定义输出文件路径

```bash
node chineseLrcToSrt.js path/to/input.lrc path/to/output.srt
```

- **输入**：`path/to/input.lrc`
- **输出**：`path/to/output.srt`

## 注意事项

- **LRC 文件格式**：确保您的 LRC 文件格式正确，每行字幕都有对应的时间戳，格式为 `[mm:ss.xx]`，并且仅包含中文内容。

  示例：

  ```plaintext
  [00:00.00]这是第一行字幕
  [00:05.00]这是第二行字幕
  ```

- **时间格式**：脚本会自动将 LRC 的时间格式转换为 SRT 所需的 `hh:mm:ss,ms` 格式，您无需进行任何手动调整。

- **编码**：请确保您的 LRC 文件使用 **UTF-8 编码**，以正确处理中文字符。

- **文件命名**：为了避免文件覆盖，建议在转换前备份原始文件或使用不同的输出文件名。

## 错误处理

- **缺少输入文件**：如果未提供输入文件路径，脚本将提示错误并退出。

- **文件读取错误**：如果无法读取指定的 LRC 文件，脚本将输出错误信息，可能的原因包括文件不存在或权限不足。

- **文件保存错误**：如果无法保存转换后的 SRT 文件，脚本将输出错误信息，可能的原因包括目录不存在或权限不足。

## 示例 LRC 与转换后的 SRT

**示例 LRC 文件（subtitles.lrc）：**

```plaintext
[00:00.00]这是第一行字幕
[00:05.00]这是第二行字幕
[00:10.50]这是第三行字幕
```

**转换后的 SRT 文件（subtitles.srt）：**

```plaintext
1
00:00:00,000 --> 00:00:05,000
这是第一行字幕

2
00:00:05,000 --> 00:00:10,500
这是第二行字幕

3
00:00:10,500 --> 00:00:12,500
这是第三行字幕
```

## 常见问题

### Q1: 脚本支持含有日文或其他语言的 LRC 文件吗？

不支持。该脚本专为仅包含中文的 LRC 文件设计。如果您的 LRC 文件包含其他语言的字幕，可能需要先进行预处理或使用其他工具。

### Q2: 转换后的 SRT 文件在播放器中无法正常显示，怎么办？

请确保您的 SRT 文件使用 UTF-8 编码。如果播放器不支持 UTF-8，可尝试转换为其他编码格式，如 ANSI 或 GBK。
